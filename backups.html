<!DOCTYPE html>
<html ng-app="app">
<head>
<title ng-cloak>Backup Info For {{space.name}}</title>
<link rel="stylesheet" href="/bags/common/tiddlers/normalize.css">
<link rel="stylesheet" href="/backups.css">
</head>
<body ng-controller="BackupsCtrl">
<header>
    <div>
        <h1 ng-cloak>Backup Info For {{space.name}}</h1>
    </div>
</header>
<article>
<div class="intro">
    <p>This is a single page application that presents information about
    backing up the content of a space, public and private. It also provides
    links for doing a quick backup of <em>only</em> the latest revisions of
    all your tiddlers. If you need something more complex, hopefully some of
    the information provided here can guide you.</p>
</div>
<div class="warning" ng-show="space.isSelf">
    <p>Note: In order for the backup links to display, you must include the
    <strong>backups</strong> space in your space, via the <em>space control
    panel</em> found by visiting the blue and pink dot in the upper right
    when viewing your space. Once you do that, visit <code>/backups</code>.</p>
</div>
<div class="meat">
    <p ng-show="space.notSelf"><a href="#downloads">Go straight to the links.</a></p>
    <h1>About Backups</h1>
    <p>When making a backup of your space there are several options, some
    requiring more effort than others:</p>
    <ul>
        <li>You can get just the content in this space, or also content 
        included from other spaces.</li>
        <li>You can choose to get the content as a collection of <a
            href="http://json.org/">JSON</a> or as a <a
            href="http://tiddlywiki.com/">TiddlyWiki Classic</a> file.</li>
        <li>You can choose to get just the latest revision of each tiddler or
        all the revisions of all tiddlers.</li>
    </ul>
    <p>Getting all the tiddlers in a space means getting the tiddlers
    generated by the <a href="http://tiddlyweb.tiddlyspace.com/recipe">
        recipes</a> whereas to get just the content created in this space
    means getting the tiddlers generated by the <a
        href="http://tiddlyweb.tiddlyspace.com/bag">bags</a>. The links below
    use the bags method.</p>
    <p>Which type of output you choose for the content depends on what you
    intend to do with the content. If you want to use it somewhere that
    uses TiddlyWiki but does <em>not</em> use TiddlyWeb then TiddlyWiki is
    the right choice. If you want to use it somewhere uses neither TiddlyWeb
    nor TiddlyWiki then JSON is the right choice. If you are making a
    simple backup for safekeeping or to move to another TiddlySpace-based
    server then either JSON or TiddlyWiki are suitable choices. TiddlyWiki
    files can be imported directly, JSON files will require some code to
    parse the data and <code>PUT</code> it to the server.</p>
    <p>If you want to get all revisions of tiddlers, the links below will
    not work, instead you will need to write code that traverses the <a
        href="http://tiddlyweb.tiddlyspace.com/%2Fbags%2F%7Bbag_name%7D%2Ftiddlers">list of tiddlers</a>
    and then gets all the <a href="http://tiddlyweb.tiddlyspace.com/%2Fbags%2F%7Bbag_name%7D%2Ftiddlers%2F%7Btiddler_title%7D%2Frevisions">revisions</a>
    for each tiddler.</p>
    <p>Ideally this page would provide links to importing data. Unfortunately
    time does not currently allow this.</p>
   </div>
   <div id="downloads" ng-cloak ng-show="space.notSelf" class="actions">
       <h1>Download</h1>
    <p>Right click the following links to save all the tiddlers from your
    {{ space.name }} to different files, one for public and one for private.
    Keep in mind that this is <em>only</em> the latest revisions of the tiddlers
    in the space. If you have a large number of tiddlers these will be
    a very large files.</p>
    <p>In some modern browsers with support for the <code>download</code>
    attribute a standard click will work.</p>
    <div ng-show="space.isMember" class="downlinks">
        <p><a class="downlink public" download="{{space.publicFileName}}.json" href="/bags/{{ space.publicBag }}/tiddlers.json?fat=1">Public Tiddlers as JSON</a>
        <a class="downlink private" download={{space.privateFileName}}.json" href="/bags/{{ space.privateBag }}/tiddlers.json?fat=1">Private Tiddlers as JSON</a></p>
        <p><a class="downlink public" download="{{space.publicFileName}}.wiki" href="/bags/{{ space.publicBag }}/tiddlers.wiki?fat=1">Public Tiddlers as Wiki</a>
        <a class="downlink private" download={{space.privateFileName}}.wiki" href="/bags/{{ space.privateBag }}/tiddlers.wiki?fat=1">Private Tiddlers as Wiki</a></p>
    </div>
    <p>No links? Are you sure you are logged in or a member of this space?</p>
</div>
<div ng-cloak ng-show="space.isSelf" class="actions">
    Include this space (<strong>backups</strong>) in your space to display
    backup links here.
</div>
</article>
<footer>
    <p>Another fine <a href="//tiddlyspace.com">TiddlySpace</a> <a href="//tsapp.tiddlyspace.com">tsapp</a> from <a href="//cdent.tiddlyspace.com/">cdent</a>.</p>
</footer>
<script src="/status.js"></script>
<script src="/bags/backups_public/tiddlers/angular.js"></script>
<script src="/bags/backups_public/tiddlers/backups.js"></script>
<script src="/bags/common/tiddlers/backstage.js"></script>
</body>
</html>
